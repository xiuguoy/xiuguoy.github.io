(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-617de16c"],{"33d3":function(t,e,o){"use strict";o.d(e,"a",(function(){return i}));const i=t=>Object.prototype.toString.call(t).slice(8,-1)},"38a9":function(t,e,o){"use strict";o("fea1")},"4fab":function(t,e,o){"use strict";var i={"bm-map":["click","dblclick","rightclick","rightdblclick","maptypechange","mousemove","mouseover","mouseout","movestart","moving","moveend","zoomstart","zoomend","addoverlay","addcontrol","removecontrol","removeoverlay","clearoverlays","dragstart","dragging","dragend","addtilelayer","removetilelayer","load","resize","hotspotclick","hotspotover","hotspotout","tilesloaded","touchstart","touchmove","touchend","longpress"],"bm-geolocation":["locationSuccess","locationError"],"bm-overview-map":["viewchanged","viewchanging"],"bm-marker":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","infowindowclose","infowindowopen","dragstart","dragging","dragend","rightclick"],"bm-polyline":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-polygon":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-circle":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","lineupdate"],"bm-label":["click","dblclick","mousedown","mouseup","mouseout","mouseover","remove","rightclick"],"bm-info-window":["close","open","maximize","restore","clickclose"],"bm-ground":["click","dblclick"],"bm-autocomplete":["onconfirm","onhighlight"],"bm-point-collection":["click","mouseover","mouseout"]};e["a"]=function(t,e){const o=e||i[this.$options.name];o&&o.forEach(e=>{const o="on"===e.slice(0,2),i=o?e.slice(2):e,a=this.$listeners[i];a&&t.addEventListener(e,a.fns)})}},"7f25":function(t,e,o){"use strict";(function(t){var i=o("b85c"),a=(o("a9e3"),o("d81d"),o("d3b7"),o("4fab")),n=o("33d3");e["a"]={name:"bm-map",props:{ak:{type:String},center:{type:[Object,String]},zoom:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},highResolution:{type:Boolean,default:!0},mapClick:{type:Boolean,default:!0},mapType:{type:String},dragging:{type:Boolean,default:!0},scrollWheelZoom:{type:Boolean,default:!1},doubleClickZoom:{type:Boolean,default:!0},keyboard:{type:Boolean,default:!0},inertialDragging:{type:Boolean,default:!0},continuousZoom:{type:Boolean,default:!0},pinchToZoom:{type:Boolean,default:!0},autoResize:{type:Boolean,default:!0},theme:{type:Array},mapStyle:{type:Object}},watch:{center:function(t,e){var o=this.map,i=this.zoom;"String"===Object(n["a"])(t)&&t!==e&&o.centerAndZoom(t,i)},"center.lng":function(t,e){var o=this.BMap,i=this.map,a=this.zoom,n=this.center;t!==e&&t>=-180&&t<=180&&i.centerAndZoom(new o.Point(t,n.lat),a)},"center.lat":function(t,e){var o=this.BMap,i=this.map,a=this.zoom,n=this.center;t!==e&&t>=-74&&t<=74&&i.centerAndZoom(new o.Point(n.lng,t),a)},zoom:function(t,e){var o=this.map;t!==e&&t>=3&&t<=19&&o.setZoom(t)},minZoom:function(t){var e=this.map;e.setMinZoom(t)},maxZoom:function(t){var e=this.map;e.setMaxZoom(t)},highResolution:function(){this.reset()},mapClick:function(){this.reset()},mapType:function(e){var o=this.map;o.setMapType(t[e])},dragging:function(t){var e=this.map;t?e.enableDragging():e.disableDragging()},scrollWheelZoom:function(t){var e=this.map;t?e.enableScrollWheelZoom():e.disableScrollWheelZoom()},doubleClickZoom:function(t){var e=this.map;t?e.enableDoubleClickZoom():e.disableDoubleClickZoom()},keyboard:function(t){var e=this.map;t?e.enableKeyboard():e.disableKeyboard()},inertialDragging:function(t){var e=this.map;t?e.enableInertialDragging():e.disableInertialDragging()},continuousZoom:function(t){var e=this.map;t?e.enableContinuousZoom():e.disableContinuousZoom()},pinchToZoom:function(t){var e=this.map;t?e.enablePinchToZoom():e.disablePinchToZoom()},autoResize:function(t){var e=this.map;t?e.enableAutoResize():e.disableAutoResize()},theme:function(t){var e=this.map;e.setMapStyle({styleJson:t})},"mapStyle.features":{handler:function(t,e){var o=this.map,i=this.mapStyle,a=i.style,n=i.styleJson;o.setMapStyle({styleJson:n,features:t,style:a})},deep:!0},"mapStyle.style":function(t,e){var o=this.map,i=this.mapStyle,a=i.features,n=i.styleJson;o.setMapStyle({styleJson:n,features:a,style:t})},"mapStyle.styleJson":{handler:function(t,e){var o=this.map,i=this.mapStyle,a=i.features,n=i.style;o.setMapStyle({styleJson:t,features:a,style:n})},deep:!0},mapStyle:function(t){var e=this.map,o=this.theme;!o&&e.setMapStyle(t)}},methods:{setMapOptions:function(){var e=this.map,o=this.minZoom,i=this.maxZoom,a=this.mapType,n=this.dragging,l=this.scrollWheelZoom,s=this.doubleClickZoom,r=this.keyboard,c=this.inertialDragging,h=this.continuousZoom,p=this.pinchToZoom,u=this.autoResize;o&&e.setMinZoom(o),i&&e.setMaxZoom(i),a&&e.setMapType(t[a]),n?e.enableDragging():e.disableDragging(),l?e.enableScrollWheelZoom():e.disableScrollWheelZoom(),s?e.enableDoubleClickZoom():e.disableDoubleClickZoom(),r?e.enableKeyboard():e.disableKeyboard(),c?e.enableInertialDragging():e.disableInertialDragging(),h?e.enableContinuousZoom():e.disableContinuousZoom(),p?e.enablePinchToZoom():e.disablePinchToZoom(),u?e.enableAutoResize():e.disableAutoResize()},init:function(t){if(!this.map){var e,o=this.$refs.view,n=Object(i["a"])(this.$slots.default||[]);try{for(n.s();!(e=n.n()).done;){var l=e.value;l.componentOptions&&"bm-view"===l.componentOptions.tag&&(this.hasBmView=!0,o=l.elm)}}catch(m){n.e(m)}finally{n.f()}var s=new t.Map(o,{enableHighResolution:this.highResolution,enableMapClick:this.mapClick});this.map=s;var r=this.setMapOptions,c=this.zoom,h=this.getCenterPoint,p=this.theme,u=this.mapStyle;p?s.setMapStyle({styleJson:p}):s.setMapStyle(u),r(),a["a"].call(this,s),s.reset(),s.centerAndZoom(h(),c),this.$emit("ready",{BMap:t,map:s})}},getCenterPoint:function(){var t=this.center,e=this.BMap;switch(Object(n["a"])(t)){case"String":return t;case"Object":return new e.Point(t.lng,t.lat);default:return new e.Point}},initMap:function(t){this.BMap=t,this.init(t)},getMapScript:function(){if(t.BMap)return t.BMap._preloader?t.BMap._preloader:Promise.resolve(t.BMap);var e=this.ak||this._BMap().ak;return t.BMap={},t.BMap._preloader=new Promise((function(o,i){t._initBaiduMap=function(){o(t.BMap),t.document.body.removeChild(a),t.BMap._preloader=null,t._initBaiduMap=null};var a=document.createElement("script");t.document.body.appendChild(a),a.src="https://api.map.baidu.com/api?v=2.0&ak=".concat(e,"&callback=_initBaiduMap")})),t.BMap._preloader},reset:function(){var t=this.getMapScript,e=this.initMap;t().then(e)}},mounted:function(){this.reset()},data:function(){return{hasBmView:!1}}}}).call(this,o("c8ba"))},"81d5":function(t,e,o){"use strict";var i=o("7b0b"),a=o("23cb"),n=o("50c4");t.exports=function(t){var e=i(this),o=n(e.length),l=arguments.length,s=a(l>1?arguments[1]:void 0,o),r=l>2?arguments[2]:void 0,c=void 0===r?o:a(r,o);while(c>s)e[s++]=t;return e}},a931:function(t,e,o){"use strict";o("b0bb")},b0bb:function(t,e,o){},cb29:function(t,e,o){var i=o("23e7"),a=o("81d5"),n=o("44d2");i({target:"Array",proto:!0},{fill:a}),n("fill")},f2d7:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"baidu"},[o("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[o("el-tab-pane",{style:{height:t.elHeight+"px"},attrs:{label:"迁徙情况",name:"move"}},[o("BmapMove")],1)],1)],1)},a=[],n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"map-wrap"},[o("baidu-map",{staticClass:"map",attrs:{center:t.mapData.center,zoom:t.mapData.zoom,ak:t.ak},on:{ready:t.mapHandler}}),o("div",{staticClass:"move-btn-group"},[o("el-radio-group",{on:{change:t.handleMove},model:{value:t.moveChecked,callback:function(e){t.moveChecked=e},expression:"moveChecked"}},[o("el-radio-button",{attrs:{label:"in"}},[t._v("迁入来源地")]),o("el-radio-button",{attrs:{label:"out"}},[t._v("迁出目的地")])],1)],1)],1)},l=[],s=o("1da1"),r=(o("96cf"),o("d81d"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.hasBmView?t._e():o("div",{ref:"view",staticStyle:{width:"100%",height:"100%"}}),t._t("default")],2)}),c=[],h=o("7f25"),p=h["a"],u=o("2877"),m=Object(u["a"])(p,r,c,!1,null,null,null),d=m.exports,f=(o("d3b7"),o("159b"),o("b64b"),o("cb29"),function(t,e,o){function i(t){this.options=t||{},this.paneName=this.options.paneName||"labelPane",this.zIndex=this.options.zIndex||0,this._map=t.map,this._lastDrawTime=null,this.show()}i.prototype=new BMap.Overlay,i.prototype.initialize=function(t){this._map=t;var e=this.canvas=document.createElement("canvas"),o=this.ctx=this.canvas.getContext("2d");e.style.cssText="position:absolute;left:0;top:0;z-index:"+this.zIndex+";",this.adjustSize(),this.adjustRatio(o),t.getPanes()[this.paneName].appendChild(e);var i=this;return t.addEventListener("resize",(function(){i.adjustSize(),i._draw()})),this.canvas},i.prototype.adjustSize=function(){var t=this._map.getSize(),e=this.canvas;e.width=t.width,e.height=t.height,e.style.width=e.width+"px",e.style.height=e.height+"px"},i.prototype.adjustRatio=function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,o=(window.devicePixelRatio||1)/e,i=t.canvas.width,a=t.canvas.height;t.canvas.width=i*o,t.canvas.height=a*o,t.canvas.style.width=i+"px",t.canvas.style.height=a+"px",t.scale(o,o)},i.prototype.draw=function(){var t=this;clearTimeout(t.timeoutID),t.timeoutID=setTimeout((function(){t._draw()}),15)},i.prototype._draw=function(){var t=this._map,e=t.getSize(),o=t.getCenter();if(o){var i=t.pointToOverlayPixel(o);this.canvas.style.left=i.x-e.width/2+"px",this.canvas.style.top=i.y-e.height/2+"px",this.dispatchEvent("draw"),this.options.update&&this.options.update.call(this)}},i.prototype.getContainer=function(){return this.canvas},i.prototype.show=function(){this.canvas||this._map.addOverlay(this),this.canvas.style.display="block"},i.prototype.hide=function(){this.canvas.style.display="none"},i.prototype.setZIndex=function(t){this.canvas.style.zIndex=t},i.prototype.getZIndex=function(){return this.zIndex};var a="undefined"===typeof window?{}:window,n=a.requestAnimationFrame||a.mozRequestAnimationFrame||a.webkitRequestAnimationFrame||a.msRequestAnimationFrame||function(t){return a.setTimeout(t,1e3/60)},l=this,s={markerRadius:3,markerColor:"#fff",lineType:"solid",lineWidth:1,colors:["#F9815C","#F8AB60","#EDCC72","#E2F194","#94E08A","#4ECDA5"],moveRadius:2,fillColor:"#fff",shadowColor:"#fff",shadowBlur:5},r=null,c=null,h=e.getSize().width,p=e.getSize().height,u=!0,m=[],d=function(t,e){Object.keys(t).forEach((function(o){e[o]=t[o]}))};function f(t){this.city=t.city,this.location=t.location,this.color=t.color}function v(t){this.from=t.from,this.to=t.to,this.id=t.id,this.step=0}f.prototype.draw=function(t){var o=this.pixel=e.pointToPixel(this.location);t.save(),t.beginPath(),t.fillStyle=s.markerColor||this.color,t.arc(o.x,o.y,s.markerRadius,0,2*Math.PI,!0),t.closePath(),t.fill(),t.textAlign="center",t.textBaseline="middle",t.font="12px Microsoft YaHei",t.fillStyle=this.color,t.fillText(this.city,o.x,o.y-10),t.restore()},v.prototype.getPointList=function(t,e){var o=[[t.x,t.y],[e.x,e.y]],i=o[1][0],a=o[1][1];return o[3]=[i,a],o[1]=this.getOffsetPoint(o[0],o[3]),o[2]=this.getOffsetPoint(o[3],o[0]),o=this.smoothSpline(o,!1),o[o.length-1]=[i,a],o},v.prototype.getOffsetPoint=function(t,e){var o,i,a,n=this.getDistance(t,e)/3,l=[t[0],t[1]],s=-.2;if(t[0]!=e[0]&&t[1]!=e[1]){var r=(e[1]-t[1])/(e[0]-t[0]);o=Math.atan(r)}else o=t[0]==e[0]?(t[1]<=e[1]?1:-1)*Math.PI/2:0;return t[0]<=e[0]?(o-=s,i=Math.round(Math.cos(o)*n),a=Math.round(Math.sin(o)*n),l[0]+=i,l[1]+=a):(o+=s,i=Math.round(Math.cos(o)*n),a=Math.round(Math.sin(o)*n),l[0]-=i,l[1]-=a),l},v.prototype.smoothSpline=function(t,e){for(var o=t.length,i=[],a=0,n=1;n<o;n++)a+=this.getDistance(t[n-1],t[n]);var l=a/2;l=l<o?o:l;for(n=0;n<l;n++){var s,r,c,h=n/(l-1)*(e?o:o-1),p=Math.floor(h),u=h-p,m=t[p%o];e?(s=t[(p-1+o)%o],r=t[(p+1)%o],c=t[(p+2)%o]):(s=t[0===p?p:p-1],r=t[p>o-2?o-1:p+1],c=t[p>o-3?o-1:p+2]);var d=u*u,f=u*d;i.push([this.interpolate(s[0],m[0],r[0],c[0],u,d,f),this.interpolate(s[1],m[1],r[1],c[1],u,d,f)])}return i},v.prototype.interpolate=function(t,e,o,i,a,n,l){var s=.5*(o-t),r=.5*(i-e);return(2*(e-o)+s+r)*l+(-3*(e-o)-2*s-r)*n+s*a+e},v.prototype.getDistance=function(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))},v.prototype.drawMarker=function(t){this.from.draw(t),this.to.draw(t)},v.prototype.drawLinePath=function(t){var o=this.path=this.getPointList(e.pointToPixel(this.from.location),e.pointToPixel(this.to.location)),i=o.length;if(t.save(),t.beginPath(),t.lineWidth=s.lineWidth,t.strokeStyle=s.colors[this.id],s.lineType&&"solid"!=s.lineType){if("dashed"==s.lineType||"dotted"==s.lineType)for(a=1;a<i;a+=2)t.moveTo(o[a-1][0],o[a-1][1]),t.lineTo(o[a][0],o[a][1])}else{t.moveTo(o[0][0],o[0][1]);for(var a=0;a<i;a++)t.lineTo(o[a][0],o[a][1])}t.stroke(),t.restore(),this.step=0},v.prototype.drawMoveCircle=function(t){var o=this.path||this.getPointList(e.pointToPixel(this.from.location),e.pointToPixel(this.to.location));t.save(),t.fillStyle=s.fillColor,t.shadowColor=s.shadowColor,t.shadowBlur=s.shadowBlur,t.beginPath(),t.arc(o[this.step][0],o[this.step][1],s.moveRadius,0,2*Math.PI,!0),t.fill(),t.closePath(),t.restore(),this.step+=1,this.step>=o.length&&(this.step=0)};var g=function(){var t=r.canvas.getContext("2d");t&&(w(),t.clearRect(0,0,h,p),m.forEach((function(e){e.drawMarker(t),e.drawLinePath(t)})))},y=function(){var t=c.canvas.getContext("2d");if(t)if(u){t.fillStyle="rgba(0,0,0,.93)";var e=t.globalCompositeOperation;t.globalCompositeOperation="destination-in",t.fillRect(0,0,h,p),t.globalCompositeOperation=e;for(var o=0;o<m.length;o++){var i=m[o];i.drawMoveCircle(t)}}else t.clearRect(0,0,h,p)},b=function(){e.addEventListener("movestart",(function(){u=!1})),e.addEventListener("moveend",(function(){u=!0,m=[]})),e.addEventListener("zoomstart",(function(){u=!1})),e.addEventListener("zoomend",(function(){u=!0,m=[]}))},w=function(){m=[];s.data;t.forEach((function(t,e){m.push(new v({id:e,from:new f({city:t.from.city,location:new BMap.Point(t.from.lnglat[0],t.from.lnglat[1]),color:s.colors[e]}),to:new f({city:t.to.city,location:new BMap.Point(t.to.lnglat[0],t.to.lnglat[1]),color:s.colors[e]})}))}))},k=function(t,e){d(o,e),r=new i({map:t,update:g}),c=new i({map:t,update:y}),b(),function t(){n(t),y()}()};k(e,s),l.options=s}),v={data:function(){return{elHeight:300,ak:"3s9RVp4wDTnCez3eBX3vjisaSlHyAWxE",mapData:{center:{lng:112.03956,lat:26.063677},zoom:5},BMap:null,map:null,styleJson:[{featureType:"label",elementType:"all",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"all",stylers:{color:"#465a6b"}},{featureType:"road",elementType:"all",stylers:{visibility:"off"}},{featureType:"water",elementType:"all",stylers:{color:"#031528"}},{featureType:"land",elementType:"all",stylers:{color:"#000002"}}],moveChecked:"in"}},components:{BaiduMap:d},watch:{},mounted:function(){},methods:{handleMove:function(t){var e=this.BMap,o=this.map,i=this.getMoveData(t);if(i.length){this.moveChecked=t,this.map.clearOverlays(),this.moveOptions(i,o);var a=new e.Point(this.mapData.center.lng,this.mapData.center.lat);"out"==t?this.map.centerAndZoom(a,6):this.map.centerAndZoom(a,5)}},getMoveData:function(t){var e=[];return"in"==t&&(e=[{from:{city:"衡山",lnglat:[112.612787,27.317599]},to:{city:"广州",lnglat:[113.270793,23.135308]}},{from:{city:"北京",lnglat:[116.413554,39.911013]},to:{city:"广州",lnglat:[113.270793,23.135308]}},{from:{city:"三亚",lnglat:[109.518646,18.258217]},to:{city:"广州",lnglat:[113.270793,23.135308]}},{from:{city:"上海",lnglat:[121.480237,31.236305]},to:{city:"广州",lnglat:[113.270793,23.135308]}},{from:{city:"韶关",lnglat:[113.603757,24.816174]},to:{city:"广州",lnglat:[113.270793,23.135308]}}]),"out"==t&&(e=[{from:{city:"广州",lnglat:[113.270793,23.135308]},to:{city:"衡山",lnglat:[112.612787,27.317599]}},{from:{city:"广州",lnglat:[113.270793,23.135308]},to:{city:"北京",lnglat:[116.413554,39.911013]}},{from:{city:"广州",lnglat:[113.270793,23.135308]},to:{city:"三亚",lnglat:[109.518646,18.258217]}},{from:{city:"广州",lnglat:[113.270793,23.135308]},to:{city:"上海",lnglat:[121.480237,31.236305]}},{from:{city:"广州",lnglat:[113.270793,23.135308]},to:{city:"韶关",lnglat:[113.603757,24.816174]}}]),e},moveOptions:function(t,e){return new f(t,e,{markerRadius:2,markerColor:null,lineType:"solid",lineWidth:1,colors:["#F9815C","#F8AB60","#EDCC72","#E2F194","#94E08A","#4ECDA5"],moveRadius:2,fillColor:"#fff",shadowColor:"#fff",shadowBlur:5,data:t})},mapHandler:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function o(){var i,a,n,l;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:i=t.BMap,a=t.map,n=new i.Point(e.mapData.center.lng,e.mapData.center.lat),a.centerAndZoom(n,e.mapData.zoom),a.enableScrollWheelZoom(!0),a.setMapStyle({styleJson:e.styleJson}),e.BMap=i,e.map=a,l=e.getMoveData(e.moveChecked),l.length&&e.moveOptions(l,a);case 9:case"end":return o.stop()}}),o)})))()}}},g=v,y=(o("a931"),Object(u["a"])(g,n,l,!1,null,"3dd597f7",null)),b=y.exports,w={data:function(){return{activeName:"move",elHeight:300}},components:{BmapMove:b},watch:{elHeight:function(t,e){this.elHeight=t}},mounted:function(){var t=this;this.elHeight=document.body.clientHeight-125,window.onresize=function(){t.elHeight="".concat(document.body.clientHeight-125)}},methods:{handleClick:function(t,e){console.log(t,e)}}},k=w,M=(o("38a9"),Object(u["a"])(k,i,a,!1,null,"19614f34",null));e["default"]=M.exports},fea1:function(t,e,o){}}]);