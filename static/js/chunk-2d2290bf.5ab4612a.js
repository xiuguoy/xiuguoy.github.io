(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2290bf"],{dc7a:function(t,e,n){"use strict";n.r(e),n.d(e,"loadGLTFMesh",(function(){return R}));var o=n("9ef0"),r=n("2eab"),c=n("28eb"),a=n("b2b2"),s=n("1c92"),i=n("dae5"),u=n("0b2d"),b=n("0fc4"),l=n("f0ba"),f=n("83fa"),j=n("88da"),O=n("f5e7"),d=n("8190"),p=n("668b"),m=n("e4c1"),g=n("7e2d"),x=n("e9ba"),w=n("2b60"),h=n("3c3b"),v=n("087c"),y=n("1038"),A=n("0613"),C=n("d17d"),T=n("4c96"),E=n("1c20"),B=n("dc56");async function R(t,e,n){const o=new w["a"](M(n)),r=(await Object(h["a"])(o,e,n,!0)).model,c=r.lods.shift(),s=new Map,i=new Map;r.textures.forEach((t,e)=>s.set(e,S(t))),r.materials.forEach((t,e)=>i.set(e,q(t,s)));const u=I(c);for(const a of u.parts)L(u,a,i);const{position:b,normal:l,tangent:f,color:j,texCoord0:d}=u.vertexAttributes,p={position:b.typedBuffer,normal:Object(a["j"])(l)?l.typedBuffer:null,tangent:Object(a["j"])(f)?f.typedBuffer:null,uv:Object(a["j"])(d)?d.typedBuffer:null,color:Object(a["j"])(j)?j.typedBuffer:null},m=Object(x["c"])(p,t,n);return{transform:m.transform,components:u.components,spatialReference:t.spatialReference,vertexAttributes:new O["a"]({position:m.vertexAttributes.position,normal:m.vertexAttributes.normal,tangent:m.vertexAttributes.tangent,color:p.color,uv:p.uv})}}function M(t){return null!=t&&t.resolveFile?{busy:!1,request:async(e,n,o)=>{const c=t.resolveFile(e),s="image"===n?"image":"binary"===n?"array-buffer":"json";return(await Object(r["default"])(c,{responseType:s,signal:Object(a["j"])(o)?o.signal:null})).data}}:null}function $(t,e){if(Object(a["i"])(t))return"-";const n=t.typedBuffer;return`${Object(c["a"])(e,n.buffer,()=>e.size)}/${n.byteOffset}/${n.byteLength}`}function F(t){return Object(a["j"])(t)?t.toString():"-"}function I(t){let e=0;const n={color:!1,tangent:!1,normal:!1,texCoord0:!1},o=new Map,r=new Map,a=[];for(const s of t.parts){const{attributes:{position:t,normal:i,color:u,tangent:b,texCoord0:l}}=s,f=`\n      ${$(t,o)}/\n      ${$(i,o)}/\n      ${$(u,o)}/\n      ${$(b,o)}/\n      ${$(l,o)}/\n      ${F(s.transform)}\n    `;let j=!1;const O=Object(c["a"])(r,f,()=>(j=!0,{start:e,length:t.count}));j&&(e+=t.count),i&&(n.normal=!0),u&&(n.color=!0),b&&(n.tangent=!0),l&&(n.texCoord0=!0),a.push({gltf:s,writeVertices:j,region:O})}return{vertexAttributes:{position:Object(g["a"])(d["v"],e),normal:n.normal?Object(g["a"])(d["u"],e):null,tangent:n.tangent?Object(g["a"])(d["C"],e):null,color:n.color?Object(g["a"])(d["J"],e):null,texCoord0:n.texCoord0?Object(g["a"])(d["m"],e):null},parts:a,components:[]}}function S(t){return new j["a"]({data:t.data,wrap:_(t.parameters.wrap)})}function q(t,e){const n=new o["a"](z(t.color,t.opacity)),r=t.emissiveFactor?new o["a"](D(t.emissiveFactor)):null;return new f["a"]({color:n,colorTexture:Object(a["q"])(Object(a["b"])(t.textureColor,t=>e.get(t))),normalTexture:Object(a["q"])(Object(a["b"])(t.textureNormal,t=>e.get(t))),emissiveColor:r,emissiveTexture:Object(a["q"])(Object(a["b"])(t.textureEmissive,t=>e.get(t))),occlusionTexture:Object(a["q"])(Object(a["b"])(t.textureOcclusion,t=>e.get(t))),alphaMode:P(t.alphaMode),alphaCutoff:t.alphaCutoff,doubleSided:t.doubleSided,metallic:t.metallicFactor,roughness:t.roughnessFactor,metallicRoughnessTexture:Object(a["q"])(Object(a["b"])(t.textureMetallicRoughness,t=>e.get(t)))})}function L(t,e,n){e.writeVertices&&N(t,e);const o=e.gltf,r=G(o.indices||o.attributes.position.count,o.primitiveType),c=e.region.start;if(c)for(let a=0;a<r.length;a++)r[a]+=c;t.components.push(new l["a"]({faces:r,material:n.get(o.material),trustSourceNormals:!0}))}function N(t,e){const{position:n,normal:o,tangent:r,color:c,texCoord0:u}=t.vertexAttributes,b=e.region.start,{attributes:l,transform:f}=e.gltf,j=l.position.count;if(Object(p["e"])(n.slice(b,j),l.position,f),Object(a["j"])(l.normal)&&Object(a["j"])(o)){const t=Object(s["a"])(Object(i["b"])(),f);Object(p["a"])(o.slice(b,j),l.normal,t)}else Object(a["j"])(o)&&Object(T["b"])(o,0,0,1,{dstIndex:b,count:j});if(Object(a["j"])(l.tangent)&&Object(a["j"])(r)){const t=Object(s["a"])(Object(i["b"])(),f);Object(m["c"])(r.slice(b,j),l.tangent,t)}else Object(a["j"])(r)&&Object(E["b"])(r,0,0,1,1,{dstIndex:b,count:j});if(Object(a["j"])(l.texCoord0)&&Object(a["j"])(u)?Object(B["b"])(u.slice(b,j),l.texCoord0):Object(a["j"])(u)&&Object(B["a"])(u,0,0,{dstIndex:b,count:j}),Object(a["j"])(l.color)&&Object(a["j"])(c)){const t=l.color,e=c.slice(b,j);if(4===t.elementCount)t instanceof d["C"]?Object(m["b"])(e,t,255):t instanceof d["J"]?Object(E["a"])(e,t):t instanceof d["H"]&&Object(m["a"])(e,t,8);else{Object(E["b"])(e,255,255,255,255);const n=d["B"].fromTypedArray(e.typedBuffer,e.typedBufferStride);t instanceof d["u"]?Object(p["d"])(n,t,255):t instanceof d["B"]?Object(T["a"])(n,t):t instanceof d["z"]&&Object(p["b"])(n,t,8)}}else Object(a["j"])(c)&&Object(E["b"])(c.slice(b,j),255,255,255,255)}function G(t,e){switch(e){case C["r"].TRIANGLES:return Object(v["c"])(t,y["d"]);case C["r"].TRIANGLE_STRIP:return Object(v["b"])(t);case C["r"].TRIANGLE_FAN:return Object(v["a"])(t)}}function P(t){switch(t){case"OPAQUE":return"opaque";case"MASK":return"mask";case"BLEND":return"blend"}}function _(t){return{horizontal:k(t.s),vertical:k(t.t)}}function k(t){switch(t){case C["B"].CLAMP_TO_EDGE:return"clamp";case C["B"].MIRRORED_REPEAT:return"mirror";case C["B"].REPEAT:return"repeat"}}function J(t){return t**(1/A["a"])*255}function z(t,e){return Object(b["d"])(J(t[0]),J(t[1]),J(t[2]),e)}function D(t){return Object(u["g"])(J(t[0]),J(t[1]),J(t[2]))}}}]);